"use strict";!function(e,t){var n={},o=[];n.onReady=function(e){o.push(e)},n.dispatchGlobalReady=function(){for(var e=o.length-1;e>=0;e--)o[e]();o=[],n.dispatchGlobalReady=t},function(){function n(e,n){n=n||{bubbles:!1,cancelable:!1,detail:t};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),o}n.prototype=e.Event.prototype,e.CustomEvent=n}(),n.device=function(){var e=navigator.appVersion,t=navigator.userAgent,n="-",o=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var a in o){var i=o[a];if(i.r.test(t)){n=i.s;break}}var r="-";switch(/Windows/.test(n)&&(r=/Windows (.*)/.exec(n)[1],n="Windows"),n){case"Mac OS X":r=/Mac OS X (10[\.\_\d]+)/.exec(t)[1];break;case"Android":r=/Android ([\.\_\d]+)/.exec(t)[1];break;case"iOS":r=/OS (\d+)_(\d+)_?(\d+)?/.exec(e),r=r[1]+"."+r[2]+"."+(0|r[3])}return{os:n,osVersion:r}}(),n.browser=function(){var e,t,n,o=navigator.userAgent,a=navigator.appName,i=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10);return-1!=(t=o.indexOf("Opera"))&&(a="Opera",i=o.substring(t+6),-1!=(t=o.indexOf("Version"))&&(i=o.substring(t+8))),-1!=(t=o.indexOf("OPR"))?(a="Opera",i=o.substring(t+4)):-1!=(t=o.indexOf("MSIE"))?(a="Microsoft Internet Explorer",i=o.substring(t+5)):-1!=(t=o.indexOf("Chrome"))?(a="Chrome",i=o.substring(t+7)):-1!=(t=o.indexOf("Safari"))?(a="Safari",i=o.substring(t+7),-1!=(t=o.indexOf("Version"))&&(i=o.substring(t+8))):-1!=(t=o.indexOf("Firefox"))?(a="Firefox",i=o.substring(t+8)):-1!=o.indexOf("Trident/")?(a="Microsoft Internet Explorer",i=o.substring(o.indexOf("rv:")+3)):(e=o.lastIndexOf(" ")+1)<(t=o.lastIndexOf("/"))&&(a=o.substring(e,t),i=o.substring(t+1),a.toLowerCase()==a.toUpperCase()&&(a=navigator.appName)),-1!=(n=i.indexOf(";"))&&(i=i.substring(0,n)),-1!=(n=i.indexOf(" "))&&(i=i.substring(0,n)),-1!=(n=i.indexOf(")"))&&(i=i.substring(0,n)),r=parseInt(""+i,10),isNaN(r)&&(i=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10)),{name:a,version:i}}(),n.ajax=function(){var t=function(e){var t=null;try{t=new XMLHttpRequest,"withCredentials"in t&&e&&(t.withCredentials=!0)}catch(n){console.error(n)}return t},n=function(e){var t;try{t=JSON.parse(e)}catch(n){t="JSON_MALFORMED"}return t},o=function(e){var t,n="";for(t in e)n+=t+"="+e[t]+"&";var o=n.lastIndexOf("&");return-1!==o&&(e=n.substring(0,o)),n};return function(a){var i=a.method,r=a.url,s="boolean"===a.crossDomain?a.crossDomain:!1,c=a.contentType,l=a.dataType,f=a.data,u=a.timeout,d=a.success,p=a.error;if("string"!=typeof i)throw new TypeError("method must be a string");if("string"!=typeof r)throw new TypeError("url must be a string");if("object"==typeof f&&(f=o(f)),"function"!=typeof d)throw new TypeError("success must be a function");var h=t(s),v="NO_INTERNET_ACCESS";return h?(h.open(i,r,!0),"string"==typeof c&&h.setRequestHeader("Content-type",c),"xml"===l&&h.overrideMimeType&&h.overrideMimeType("application/xml; charset=utf-8"),h.onreadystatechange=function(t){if(4===h.readyState){if(200===h.status)if("json"===l){var o=n(h.responseText);"JSON_MALFORMED"!==o?d(o):"function"==typeof p&&p(o,t)}else d("xml"===l?h.responseXML:h.responseText);else"function"==typeof p&&e.setTimeout(function(){p(v,t)},1);h=null}},"number"==typeof u&&(h.timeout=u,h.ontimeout=function(){v="TIMEOUT_EXCEEDED"}),h.send(f)):"function"==typeof p&&(v="XMLHTTPREQUEST_UNAVAILABLE",p(v)),{cancel:function(){v="REQUEST_CANCELED",h&&h.abort()}}}}(),n.event=function(){var o=!1;("ontouchstart"in e||e.DocumentTouch&&document instanceof DocumentTouch)&&(o=!0);var a=["mousedown","mousemove","mouseup"];e.navigator.pointerEnabled?a=["pointerdown","pointermove","pointerup"]:e.navigator.msPointerEnabled&&(a=["MSPointerDown","MSPointerMove","MSPointerUp"]);var i={};i.hasTouch=o,i.start=o?"touchstart":a[0],i.move=o?"touchmove":a[1],i.end=o?"touchend":a[2],i.tap="tap";var r=document.createElement("div"),s=[{name:"transition",end:"transitionend"},{name:"MozTransition",end:"transitionend"},{name:"msTransition",end:"msTransitionEnd"},{name:"WebkitTransition",end:"webkitTransitionEnd"}],c=[{name:"animation",end:"animationend"},{name:"MozAnimation",end:"animationend"},{name:"msAnimation",end:"msAnimationEnd"},{name:"WebkitAnimation",end:"webkitAnimationEnd"}],l=null,f=null,u=s.length-1;for(u in s)if(r.style[s[u].name]!==t){l=s[u].end;break}var d=c.length-1;for(d in c)if(r.style[c[d].name]!==t){f=c[d].end;break}var p=n.device.osVersion;p.length>2&&(p=n.device.osVersion.substring(0,3)),"android"===n.device.os.toLowerCase()&&"4.1"===p&&(l="webkitTransitionEnd",f="webkitAnimationEnd"),i.transitionEnd=l,i.animationEnd=f;var h=[],v=function(){function e(e,t){this.el=e,this.callback=t,this.moved=!1,this.startX=0,this.startY=0,this.hasTouchEventOccured=!1,this.el.addEventListener(i.start,this,!1)}return e.prototype.start=function(e){"touchstart"===e.type?(this.hasTouchEventOccured=!0,this.el.addEventListener("touchmove",this,!1),this.el.addEventListener("touchend",this,!1),this.el.addEventListener("touchcancel",this,!1)):this.el.addEventListener(i.end,this,!1),this.moved=!1,this.startX="touchstart"===e.type?e.touches[0].clientX:e.clientX,this.startY="touchstart"===e.type?e.touches[0].clientY:e.clientY},e.prototype.move=function(e){(Math.abs(e.touches[0].clientX-this.startX)>10||Math.abs(e.touches[0].clientY-this.startY)>10)&&(this.moved=!0)},e.prototype.end=function(e){this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("touchcancel",this,!1),this.el.removeEventListener(i.end,this,!1),this.moved||this.callback(e)},e.prototype.cancel=function(){this.hasTouchEventOccured=!1,this.moved=!1,this.startX=0,this.startY=0},e.prototype.off=function(){this.el.removeEventListener(i.start,this,!1),this.el.removeEventListener(i.move,this,!1),this.el.removeEventListener(i.end,this,!1),this.el.removeEventListener("touchcancel",this,!1)},e.prototype.handleEvent=function(e){switch(e.type){case i.start:this.start(e);break;case"touchmove":this.move(e);break;case i.end:this.end(e);break;case"touchcancel":this.cancel(e)}},e}();return n.on=function(e,t,n,o){if(t===i.tap){var a=new v(e,n);return void h.push(a)}e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n,o)},e.on=document.on=HTMLElement.prototype.on=function(e,t,o){n.on(this,e,t,o)},n.off=function(e,t,n,o){if(t!==i.tap)e.removeEventListener?e.removeEventListener(t,n,o):e.attachEvent&&e.detachEvent("on"+t,n,o);else for(var a=h.length-1;a>=0;a--)if(h[a].el===e){h[a].off(),h.splice(a,1);break}},e.off=document.off=HTMLElement.prototype.off=function(e,t,o){n.off(this,e,t,o)},i}(),n.tagManager=function(){if("undefined"!=typeof riot){var e=[],t=function(t,n){t[0].tagName=n,e.push(t[0])},n=function(){return e},o=function(t,n,o){for(var a=e.length-1;a>=0;a--)if(e[a].tagName===t){e[a].trigger(n,o);break}};return{addTag:t,getAll:n,trigger:o}}}(),n.options=function(e){var t=!1;"object"==typeof e.i18n&&null!==e.i18n&&(n.i18n(e.i18n),t=!0),e.navigator.useI18n=t,n.navigator(e.navigator)},n.alert=function(e,t,o){return n.dialog().alert(e,t,o)},n.confirm=function(e,t,o){return n.dialog().confirm(e,t,o)},n.prompt=function(e,t,o){return n.dialog().prompt(e,t,o)},n.indicator=function(e,t){return n.dialog().indicator(e,t)},n.updateLocale=function(e){var t="undefined"!=typeof riot?!0:!1;n.i18n().setPreference(e).getAll(function(e){if(t){for(var o=n.tagManager.getAll(),a=o.length-1;a>=0;a--)o[a].i18n=e;riot.update()}else n.i18n().bind()})},e.phonon=n,"object"==typeof exports?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return e.phonon=n})}("undefined"!=typeof window?window:this),function(e,t){function n(e){if(l.initCalled)throw new Error("The i18n module has already been instantiated");"string"==typeof e.directory&&(e.directory=-1!==e.directory.indexOf("/",e.directory.length-"/".length)?e.directory:e.directory+"/");var t;for(t in e)l[t]=e[t];l.initCalled=!0}function o(e){if(!l.initCalled)throw new Error("Please, initialize The i18n module using the init method");if("function"!=typeof e)throw new Error("callback must be a function");var t=new XMLHttpRequest,n=l.localePreferred?l.localePreferred:l.localeFallback;t.open("GET",l.directory+n+".json",!0),t.overrideMimeType&&t.overrideMimeType("application/json; charset=utf-8"),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)e(JSON.parse(t.responseText));else{if(!l.localePreferred)throw new Error("The default locale ["+l.directory+l.localeFallback+".json] file is not found");l.localePreferred=null,console.log("The language ["+n+"] is not available, loading "+l.localeFallback),o(function(t){e(t)})}},t.send("")}function a(e,t){if("string"!=typeof e&&!(e instanceof Array))throw new Error("key must be a string or an array");var n=e instanceof Array?!0:!1;o(function(o){if(n){for(var a=e.length,i=a-1,r={};i>=0;i--)r[e[i]]=o[e[i]];t(r)}else t(o[e])})}function i(e,n){var a=e||t,i=n;if(1===arguments.length&&"function"==typeof e&&(a=t,i=e),!f(a))throw new TypeError("Not valid element object "+a);var r=a.querySelectorAll("[data-i18n]"),s=r.length-1;o(function(e){for(var t={status:"success"};s>=0;s--)for(var n,o=r[s],a=o.getAttribute("data-i18n").trim(),c=/(?:\s|^)(\w+):\s*(.*?)(?=\s+\w+:|$)/g;n=c.exec(a);){var l=n[1].trim(),f=n[2].trim().replace(",","");if(void 0!==e[f])if("text"===l)u(o,e[f]);else if("value"===l)d(o,e[f]);else{if("placeholder"!==l)throw new Error("The property: "+l+" is unknown");p(o,e[f])}else{var h="The value: "+f+" does not exist in the JSON file";console.error(h),t={status:"error",message:h}}}"function"==typeof i&&i(t)})}function r(e){if("string"!=typeof e)throw new Error("The language must be a string");return l.localePreferred=e,h}function s(){return l.localePreferred}function c(){return e.navigator.userLanguage||e.navigator.language}var l={localeFallback:null,localePreferred:e.navigator.userLanguage||e.navigator.language,directory:"./",initCalled:!1},f=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},u=function(e,t){"textContent"in e?e.textContent=t:e.innerText=t},d=function(e,t){e.value=t},p=function(e,t){e.setAttribute("placeholder",t)},h={};h.init=n,h.getAll=o,h.get=a,h.bind=i,h.setPreference=r,h.getPreference=s,h.getLocale=c,phonon.i18n=function(e){return"object"==typeof e&&n(e),{getAll:function(e){return o(e),this},get:function(e,t){return a(e,t),this},bind:function(e,t){return i(e,t),this},setPreference:function(e){return r(e),this},getPreference:function(){return s()},getLocale:function(){return c()}}}}(window,document),function(e,t,n){function o(){if(R.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("left"),e.off(n.event.animationEnd,o,!1),e.classList.remove("app-active")}s(W),c(S),O=!1}function a(){if(R.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("right"),e.off(n.event.animationEnd,a,!1),e.classList.remove("app-active")}s(W),c(S),O=!1}function i(t){D&&n.tagManager.trigger(t,"create");var o=H(t);"function"==typeof o.callback&&o.callback(o.activity),o.activity instanceof X&&"function"==typeof o.activity.onCreateCallback&&o.activity.onCreateCallback();var a=new e.CustomEvent("pagecreated",{detail:{page:t},bubbles:!0,cancelable:!0});document.dispatchEvent(a)}function r(t){var o=H(t);e.setTimeout(function(){D&&n.tagManager.trigger(t,"ready"),o.activity instanceof X&&"function"==typeof o.activity.onReadyCallback&&o.activity.onReadyCallback();var a=new e.CustomEvent("pageopened",{detail:{page:t},bubbles:!0,cancelable:!0});document.dispatchEvent(a)},o.readyDelay)}function s(e){D&&n.tagManager.trigger(e,"transitionend");var t=H(e);t.activity instanceof X&&"function"==typeof t.activity.onTransitionEndCallback&&t.activity.onTransitionEndCallback()}function c(e){D&&n.tagManager.trigger(e,"hidden");var t=H(e);t.activity instanceof X&&"function"==typeof t.activity.onHiddenCallback&&t.activity.onHiddenCallback()}function l(e,t){D&&n.tagManager.trigger(e,"tabchanged",t);var o=H(e);o.activity instanceof X&&"function"==typeof o.activity.onTabChangedCallback&&o.activity.onTabChangedCallback(t)}function f(t,o,a){function i(){var t=e.location.hash.split("#")[1];t===a?k(a):e.location.hash=a}var r=H(t);if(!r.async)return void i(!0);var s={close:i};if(D&&n.tagManager.trigger(t,"close",s),r.activity instanceof X&&"function"==typeof r.activity.onCloseCallback)r.activity.onCloseCallback(s);else if(!D)throw new Error("The page "+t+" prevents close, but its callback (onClose) is undefined")}function u(e,t,o){var a={params:t,action:o};D&&n.tagManager.trigger(e,"hashchanged",a);var i=H(e);i.activity instanceof X&&"function"==typeof i.activity.onHashChangedCallback&&i.activity.onHashChangedCallback(a)}function d(e,t){"tabchanged"===e&&l(t.page,t.tabNumber)}function p(e,o){if(D&&t.compile(function(){n.i18n().getAll(function(a){var i=t.mount(e,{i18n:a});n.tagManager.addTag(i,e),o()})}),!D){var a=H(e);null!==a.content?h(a.content,function(t){var i=I(e),r=document.createElement("div");r.innerHTML=t;var s=r.querySelector(e);if(null===s)throw new Error("Error with "+a.content+" : the template for "+e+" must start with the parent node <"+e+' class="app-page">');for(var c=s.attributes,l=c.length-1;l>=0;l--){var f=c.item(l);"class"!==f.nodeName&&"app-page"!==f.nodeValue&&i.setAttribute(f.nodeName,f.nodeValue)}R.useI18n?n.i18n().bind(s,function(){i.innerHTML=s.innerHTML,o()}):(i.innerHTML=s.innerHTML,o())}):o()}}function h(e,t){var n=new XMLHttpRequest;n.overrideMimeType&&n.overrideMimeType("text/html; charset=utf-8"),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&t(n.responseText)},n.open("GET",R.templateRootDirectory+e,!0),n.send("")}function v(e){var t={name:e,mounted:!1,async:!1,activity:null,content:null,readyDelay:1};L.push(t)}function g(){return"undefined"!=typeof n.dialog&&n.dialog().closeActive()?!1:"undefined"!=typeof n.popover&&n.popover().closeActive()?!1:"undefined"!=typeof n.panel&&n.panel().closeActive()?!1:"undefined"!=typeof n.sidePanel&&n.sidePanel().closeActive()?!1:(A=!0,!0)}function m(){var e={page:R.defaultPage,params:""};if(P.length>0){for(var t=-1,n=P.length-1;n>=0;n--)if(P[n].page===W){t=n-1;break}t>-1&&(e=P[t],P.slice(t,1))}return e}function y(e){for(var t=e.target,n=null,o=!1,a="";t&&t!==document;t=t.parentNode){var i=t.getAttribute("data-navigation");if("undefined"!=typeof t.href&&-1!==t.href.indexOf("#!")){o=!0;break}if(i){n=i;break}}if(o&&e.preventDefault(),null!==n||o){var r=R.defaultPage;if(null!==n)if("$previous-page"===n){var s=m();r=s.page,a=s.params}else r=n;else{var c=t.href.match(/#!([A-Za-z0-9\-\.]+)?(.*)/);c&&(r=c[1],a=c[2])}g(r,a)&&f(W,r,R.hashPrefix+r+"/"+a)}}function b(e,t,i,s){r(t),u(t,i,s);var c=I(e),l=I(t);l.classList.add("app-active"),R.animatePages?(c.classList.add("page-sliding"),N?(c.classList.add("left"),c.on(n.event.animationEnd,o,!1)):(c.classList.add("right"),c.on(n.event.animationEnd,a,!1))):(c.classList.remove("app-active"),N?o():a());for(var f=l.querySelectorAll(".content"),d=f.length-1;d>=0;d--){var p=f[d];null!==p&&0!==p.scrollTop&&(p.scrollTop=0)}t===R.defaultPage&&(P=[])}function w(e,t,n){if(!O){var o=H(e);if(!o)throw new Error("The following page: "+e+" does not exists");O=!0,S=W,W=e,o.mounted?b(S,e,t,n):p(o.name,function(){o.mounted=!0,i(e),b(S,e,t,n)})}}function E(e){"string"==typeof e.templateRootDirectory&&""!==e.templateRootDirectory&&(e.templateRootDirectory=-1!==e.templateRootDirectory.indexOf("/",e.templateRootDirectory.length-"/".length)?e.templateRootDirectory:e.templateRootDirectory+"/"),"object"==typeof e.hashPrefix&&(e.hashPrefix="");var t;for(t in e)R[t]=e[t];R.enableBrowserBackButton&&(A=!0);for(var n=document.querySelectorAll("[data-page]"),o=n.length-1;o>=0;o--){var a=n[o];a.classList.contains("app-page")||a.classList.add("app-page"),v(a.tagName.toLowerCase())}}function T(){if(M)throw new Error("The app has been already started");W=R.defaultPage;var e=n.device.os.toLowerCase(),t="web";"android"===e?t="android":"ios"===e&&(t="ios"),document.body.classList.contains(t)||document.body.classList.add(t),C()}function C(){p(W,function(){var t=H(W);if(t.mounted=!0,i(W),W===R.defaultPage&&!M){var o=I(W);if(M=!0,!o)throw new Error("Page does not exists");o.classList.contains("app-active")||o.classList.add("app-active"),r(W),n.dispatchGlobalReady();var a=R.hashPrefix+R.defaultPage;e.location.hash!==a&&(e.location.hash=R.hashPrefix+R.defaultPage)}})}function x(t,n){var o=H(W),a=H(t);if(!a)throw new Error("The following page: "+t+" does not exists");var i="string"==typeof n?R.hashPrefix+a.name+"/"+n:R.hashPrefix+a.name;o.async?f(W,a.name,i):-1===e.location.hash.indexOf(a.name)&&(e.location.hash=i)}function k(t){var n="string"==typeof t?t:e.location.href.split("#")[1]||"",o=n.split("/"),a=o[0],i="undefined"==typeof o[1]?"":o[1],r="undefined"==typeof o[2]?"":o[2],s=R.hashPrefix.indexOf("/");-1!==s&&(a=i,i=r,r="undefined"==typeof o[3]?"":o[3]);var c;if(-1!==s){if(a[0]!==R.hashPrefix[s+1])return;c=a.substring(s+1,a.length)}else{if(R.hashPrefix.length>0&&a[0]!==R.hashPrefix[0])return;c=a.substring(R.hashPrefix.length,a.length)}var l=H(c);if(l){if(l.name===W)return void("undefined"!=typeof i&&u(c,i,r));if(!A)return;for(var f=!1,d=P.length-1;d>=0;d--)if(P[d].page===l.name){f=!0;break}P.length>0?l.name===R.defaultPage&&(N=!1):N=!0,P.length>1&&P[P.length-2].page===l.name&&(N=!1),f||P.push({page:l.name,params:i+"/"+r}),g(c,i,r)?w(c,i,r):e.location.hash=R.hashPrefix+"$"+S,R.enableBrowserBackButton||(A=!1)}}var L=[],P=[],M=!1,O=!1,W=null,S=null,N=!0,A=!1,D=void 0===t?!1:!0,R={defaultPage:null,hashPrefix:"!",animatePages:!0,templateRootDirectory:"",useI18n:!0,enableBrowserBackButton:!1},X=function(){function e(){}return e.prototype.onCreate=function(e){this.onCreateCallback=e},e.prototype.onReady=function(e){this.onReadyCallback=e},e.prototype.onClose=function(e){this.onCloseCallback=function(t){e(t)}},e.prototype.onHidden=function(e){this.onHiddenCallback=e},e.prototype.onTransitionEnd=function(e){this.onTransitionEndCallback=e},e.prototype.onHashChanged=function(e){this.onHashChangedCallback=function(t){e(t)}},e.prototype.onTabChanged=function(e){this.onTabChangedCallback=function(t){e(t)}},e}(),H=function(e){for(var t=null,n=L.length-1;n>=0;n--)if(L[n].name===e){t=L[n];break}return t},I=function(e){for(var t=document.querySelectorAll("[data-page]"),n=t.length-1,o=null;n>=0;n--)if(t[n].tagName.toLowerCase()===e){o=t[n];break}return o};document.on("tap",y),e.on("hashchange",k),document.on("backbutton",function(){var e=m();W!==R.defaultPage&&g(e.page,"")&&f(W,e.page,R.hashPrefix+e.page+"/"+e.params)}),n.navigator=function(e){return"object"==typeof e&&E(e),{currentPage:W,start:T,changePage:function(e,t){A=!0,x(e,t)},on:function(e,t){if("string"!=typeof e.page)throw new Error("Page name must be a string");if("undefined"!=typeof e.preventClose&&"boolean"!=typeof e.preventClose)throw new Error("preventClose option must be a boolean");if("undefined"!=typeof e.readyDelay&&"number"!=typeof e.readyDelay)throw new Error("readyDelay option must be a number");var n=H(e.page);if(!n)throw new Error("A namespace for  "+e.page+" is detected, but the DOM node <"+e.page+"> is not found.");n.activity="function"==typeof t?new X:null,n.callback=t,n.async="boolean"==typeof e.preventClose?e.preventClose:!1,n.content="string"==typeof e.content?e.content:null,n.readyDelay="number"==typeof e.readyDelay?e.readyDelay:1},callCallback:d}}}("undefined"!=typeof window?window:this,"undefined"!=typeof riot?riot:void 0,phonon);